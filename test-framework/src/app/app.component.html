<div style="margin: 5rem auto; width: 10rem;">

    <h1>Welcome to knora-api-js-lib-test!</h1>

    <section>
        <h3>Health State</h3>
        <span>{{ healthState | async | json}}</span>
    </section>

    <section>
        <h3>Version</h3>
        <span>{{ version | async | json}}</span>
    </section>

    <section id="login">
        <h3>Login/Logout</h3>
        <button class="login" (click)="login()">Login</button><br /><br />
        <button class="logout" (click)="logout()">Logout</button><br /><br />
        <div>Status: <span class="status">{{loginStatus}}</span></div>
    </section>

    <section id="admin">
        <h3>Admin</h3>
        <div>
            <h4>Users</h4>
            <button (click)="getUsers()">All users</button> <br /><br />
            <button (click)="getUser('http://rdfh.ch/users/root')">Get root user</button> <br /><br />
        </div>
        <div id="projects">
            <h4>Projects</h4>
            <!-- get projects/project -->
            <button class="get-projects" (click)="getProjects()">All projects</button> <br /><br />
            <button (click)="getProjectByIri('http://rdfh.ch/projects/0001')">Get Anything project by IRI</button> <br /><br />
            <button (click)="getProjectByShortname('anything')">Get Anything project by shortname</button> <br /><br />
            <button (click)="getProjectByShortcode('0001')">Get Anything project by shortcode</button> <br /><br />

            <!-- get keywords -->
            <button (click)="getProjectKeywords('http://rdfh.ch/projects/0001')">Get Anything project keywords</button> <br /><br />
            <button (click)="getAllProjectsKeywords()">Get all projects keywords</button> <br /><br />

            <!-- get project members -->
            <button class="get-project-members-iri" (click)="getProjectMembersByIri('http://rdfh.ch/projects/0001')">Get Anything project members by IRI</button> <br /><br />
            <button (click)="getProjectMembersByShortname('anything')">Get Anything project members by shortname</button> <br /><br />
            <button (click)="getProjectMembersByShortcode('0001')">Get Anything project members by shortcode</button> <br /><br />

            <!-- get project admin members -->
            <button (click)="getProjectAdminMembersByIri('http://rdfh.ch/projects/0001')">Get Anything project admin members by IRI</button> <br /><br />
            <button (click)="getProjectAdminMembersByShortname('anything')">Get Anything project admin members by shortname</button> <br /><br />
            <button (click)="getProjectAdminMembersByShortcode('0001')">Get Anything project admin members by shortcode</button> <br /><br />

            <!-- get project restricted view settings -->
            <button (click)="getProjectRestrictedViewSettingByIri('http://rdfh.ch/projects/0001')">Get Anything project restricted view setting by IRI</button> <br /><br />
            <button (click)="getProjectRestrictedViewSettingByShortname('anything')">Get Anything project restricted view setting by shortname</button> <br /><br />
            <button (click)="getProjectRestrictedViewSettingByShortcode('0001')">Get Anything project restricted view setting by shortcode</button> <br /><br />

            <!-- crud operations -->
            <button (click)="updateProject()">Update Anything project description</button><br /><br />
            <button (click)="createProject()">Create test project</button> <br /><br />
            <button (click)="deleteProject()">Delete test project</button> <br /><br />
            <div>
                Project:
                <div>Project count: <span class="project-count">{{projectCount}}</span></div>
                <div>Project info: <span class="project-info">{{projectInfo}}</span></div>
                <div>Project keywords count: <span class="project-keywords-count">{{projectKeywordsCount}}</span></div>
                <div>All projects keywords count: <span class="all-projects-keywords-count">{{allProjectsKeywordsCount}}</span></div>
                <div>Project members count: <span class="project-members-count">{{projectMembersCount}}</span></div>
                <div>Project admin members count: <span class="project-admin-members-count">{{projectAdminMembersCount}}</span></div>
            </div>
        </div>
        <div id="permissions">
            <h4>Permissions</h4>
            <button class="get-permissions" (click)="getPermissions()">Get permissions belonging to a project</button> <br /><br />
            <button class="get-administrative-permission" (click)="getAdministrativePermission()">Get administrative permission for a project and group</button> <br /><br />
            <button class="update-administrative-permission" (click)="updateAdministrativePermission()">Update administrative permission for a project and group</button> <br /><br />
            <button class="update-administrative-permission-group" (click)="updateAdministrativePermissionGroup()">Update an administrative permission's group</button> <br /><br />
            <button class="get-administrative-permissions" (click)="getAdministrativePermissions()">Get administrative permissions for a project</button> <br /><br />
            <button class="create-administrative-permission" (click)="createAdministrativePermission()">Create an administrative Permission</button> <br /><br />
            <button class="get-default-object-access-permissions" (click)="getDefaultObjectAccessPermissions()">Get default object access permissions for a project</button> <br /><br />
            <button class="create-default-object-access-permission" (click)="createDefaultObjectAccessPermission()">Create default object access permission for a project</button> <br /><br />
            <button class="update-default-object-access-permission" (click)="updateDefaultObjectAccessPermission()">Update a default object access permission for a project</button> <br /><br />
            <button class="update-default-object-access-permission-group" (click)="updateDefaultObjectAccessPermissionGroup()">Update a default object access permission's group</button> <br /><br />
            <button class="update-default-object-access-permission-resource-class" (click)="updateDefaultObjectAccessPermissionResourceClass()">Update a default object access permission's resource class</button> <br /><br />
            <button class="update-default-object-access-permission-property" (click)="updateDefaultObjectAccessPermissionProperty()">Update a default object access permission's property</button> <br /><br />
            <span *ngIf="permissionStatus" class="status">Permission status: {{permissionStatus}}</span>
            <span *ngIf="permissionUpdateStatus" class="update-status">Permission update status: {{permissionUpdateStatus}}</span>
            <button class="delete-permission" (click)="deletePermission()">Delete an administrative permission</button> <br /><br />
            <span *ngIf="permissionDeleted" class="deleted">Permission deleted: {{permissionDeleted}}</span>
        </div>
        <div id="lists">
            <h4>Lists</h4>
            <button class="create-list" (click)="createList()">Create a list</button> <br /><br />
            <button class="create-list-child-node" (click)="createListChildNode()">Create a list child node</button> <br /><br />
            <button class="create-list-child-node-at-position" (click)="createListChildNodeAtPosition()">Create a list child node at position 1</button> <br /><br />
            <button class="delete-list-child-node" (click)="deleteListChildNode()">Delete a list child node</button> <br /><br />
            <button class="delete-list-root-node" (click)="deleteListRootNode()">Delete a list root node</button> <br /><br />
            <button class="update-list-child-node" (click)="updateChildNode()">Update labels & comments of a child node</button> <br /><br />
            <button class="update-child-name" (click)="updateChildName()">Update name of a child node</button> <br /><br />
            <button class="update-child-labels" (click)="updateChildLabels()">Update labels of a child node</button> <br /><br />
            <button class="update-child-comments" (click)="updateChildComments()">Update comments of a child node</button> <br /><br />
            <button class="delete-child-comments" (click)="deleteChildComments()">Delete comments of a child node</button> <br /><br />
            <button class="get-list" (click)="getList()">Get list</button> <br /><br />
            <button class="get-list-node-info" (click)="getListNodeInfo()">Get info of a node</button> <br /><br />
            <button class="reposition-list-node-to-end" (click)="repositionListChildNode()">Reposition child node to end of siblings</button> <br /><br />
            <button class="reposition-list-node-to-end-new-parent" (click)="repositionListChildNodeNewParent()">Reposition child node to end of new parent</button> <br /><br />
            <div>
                List Info:
                <div>Name: <span class="list-name">{{listName}}</span></div>
                <div>Labels: <span class="list-labels">{{listLabels}}</span></div>
                <div>Comments: <span class="list-comments">{{listComments}}</span></div>
                <div>Children Count: <span class="list-children">{{listChildren}}</span></div>
            </div>
            <br>
            <div>
                List Node Info:
                <div>Name: <span class="child-name">{{listChildName}}</span></div>
                <div>Labels: <span class="child-labels">{{listChildLabels}}</span></div>
                <div>Comments: <span class="child-comments">{{listChildComments}}</span></div>
                <div>ID: <span class="list-node-id">{{listNodeId}}</span></div>
                <div>Deleted: <span class="list-node-deleted">{{listNodeDeleted}}</span></div>
                <div>Position: <span class="list-node-position">{{listNodePosition}}</span></div>
                <div>Parent IRI: <span class="list-node-parent-iri">{{listNodeParentIri}}</span></div>
            </div>
        </div>
    </section>

    <section id="ontologycache">
        <h3>Ontology Cache</h3>
        <button class="knora-api" (click)="getOntology('http://api.knora.org/ontology/knora-api/v2')">Get system ontology</button> <br /><br />
        <button class="anything" (click)="getOntology('http://0.0.0.0:3333/ontology/0001/anything/v2')">Get anything ontology</button> <br /><br />
        <button class="something" (click)="getOntology('http://0.0.0.0:3333/ontology/0001/something/v2')">Get something ontology</button> <br /><br />
        <button class="testonto" (click)="getOntology('http://0.0.0.0:3333/ontology/0001/testonto/v2')">Get testonto ontology</button> <br /><br />
        <button class="reloadtestonto" (click)="reloadOntologyCache('http://0.0.0.0:3333/ontology/0001/testonto/v2')">Reload cached testonto</button> <br /><br />

        <button (click)="getResourceClass('http://0.0.0.0:3333/ontology/0001/anything/v2#Thing')">Get anything Thing Def</button> <br /><br />
        <div>
            Ontology Information:
            <div>Number of ontologies: <span class="ontology">{{ontologies?.size}}</span></div>
        </div>
    </section>

    <section id="ontologyendpoint">
        <h3>Ontology With All Languages</h3>
        <button class="knora-api" (click)="getOntologyWithAllLanguages('http://api.knora.org/ontology/knora-api/v2')">Get system ontology</button> <br /><br />
        <button class="anything" (click)="getOntologyWithAllLanguages('http://0.0.0.0:3333/ontology/0001/anything/v2')">Get anything ontology</button> <br /><br />
        <div>
            Ontology with all languages: <span class="ontology">{{ontologyWithAllLangs?.label}}</span>
        </div>
    </section>

    <section id="ontologymetadata">
        <h3>Project specific ontologies</h3>
        <button class="anything" (click)="getAnythingOntologies()">Get anything project ontologies</button>
        <div>
            Anything project has<br><span class="anything">{{anythingOntologies?.ontologies.length | i18nPlural: itemPluralMapping['ontology']}}</span>
        </div>        
        <button class="dokubib" (click)="getDokubibOntologies()">Get dokubib project ontologies</button>
        <div>
            Dokubib project has<br><span class="dokubib">{{dokubibOntologies?.ontologies.length | i18nPlural: itemPluralMapping['ontology']}}</span>
        </div>
    </section>

    <section id="ontologyeditor">
        <h3>Ontology</h3>
        <button class="create-onto" (click)="createOntology()">Create testonto</button> <br /><br />
        <div><span *ngIf="ontologyMeta">Ontology created:&nbsp;</span><span class="label">{{ontologyMeta?.label}}</span> </div> <br />
        <button class="read-onto" (click)="getTestOnto('http://0.0.0.0:3333/ontology/0001/testonto/v2')">Get testonto</button> <br /><br />
        <div>The ontology's label: <span class="read-label">{{ontologyMeta?.label}}</span> </div> <br />
        <div>The ontology's comment: <span class="read-comment">{{ontologyMeta?.comment}}</span> </div> <br />

        <p>Before clicking on the following update ontology metadata action buttons, you should click on <strong>Get testonto</strong> button above every time because lastModification time is always needed.</p>
        <button class="update-onto-metadata-label" (click)="updateOntologyLabel()">Update testonto label</button> <br /><br />
        <button class="update-onto-metadata-comment" (click)="updateOntologyComment()">Update testonto comment</button> <br /><br />
        <button class="remove-onto-metadata-comment" (click)="removeOntologyComment()">Remove testonto comment</button> <br /><br />
        <button class="update-onto-metadata-label-and-comment" (click)="updateOntologyLabelAndComment()">Update testonto label and comment</button> <br /><br />

        <p>Before clicking on the following resource class or property action buttons, you should click on <strong>Get testonto</strong> button above every time because lastModification time is always needed.</p>
        
        <h4>Resource Class</h4>
        <button class="create-res-class" (click)="createResourceClass()">Create resource class</button><br><br>
        <div><span *ngIf="resClass">Res class created:&nbsp;</span><span class="res-class-label">{{resClass?.label}}</span> <br> <span class="res-class-comment">{{resClass?.comment}}</span> </div> <br />

        <button class="update-res-class-label" (click)="updateResourceClassLabel()">Update resource class label</button><br><br>

        <button class="update-res-class-comment" (click)="updateResourceClassComment()">Update resource class comment</button><br><br>

        <button class="delete-res-class-comment" (click)="deleteResourceClassComment()">Delete resource class comment</button><br><br>
        
        <button class="get-res-class" (click)="getResourceClass('http://0.0.0.0:3333/ontology/0001/testonto/v2#testclass')">Get resource class</button><br><br>

        <button class="can-delete-class" (click)="canDeleteClass()">Can delete res class</button>
        <div>Can delete status: <span class="can-delete-class">{{canDeleteClassResponse}}</span></div> <br />

        <button class="delete-res-class" (click)="deleteResourceClass()">Delete resource class</button><br><br>

        <h4>Resource Property</h4>
        <button class="create-res-prop" (click)="createResourceProperty()">Create resource property</button><br><br>
        <div>
            <span *ngIf="property">Res property created:&nbsp;</span><span class="res-prop-label">{{property?.label}}</span> <br>
            <span class="res-prop-comment">{{property?.comment}}</span><br>
            <span class="res-prop-guiele">{{property?.guiElement}}</span>
        </div> <br />

        <button class="update-res-prop-label" (click)="updateResourcePropertyLabel()">Update resource property label</button><br><br>

        <button class="update-res-prop-comment" (click)="updateResourcePropertyComment()">Update resource property comment</button><br><br>

        <button class="update-res-prop-guiele" (click)="updateResourcePropertyGuielement()">Update resource property gui ele</button><br><br>

        <button class="delete-res-prop-comment" (click)="deleteResourcePropertyComment()">Delete resource property comment</button><br><br>

        <button class="can-delete-prop" (click)="canDeleteProperty()">Can delete res property</button>
        <div>Can delete status: <span class="can-delete-prop">{{canDeletePropertyResponse}}</span></div> <br />

        <button class="delete-res-prop" (click)="deleteResourceProperty()">Delete resource property</button><br><br>

        <button class="add-card-to-res-prop" (click)="addCardinality()">Add Cardinality to resource</button><br><br>
        <div><span *ngIf="addCard">Cardinality added:&nbsp;</span><span class="res-card-added">{{addCard?.label}}</span> </div> <br />

        <button class="can-replace-card-for-res-card" (click)="canReplaceCardinality()">Can replace cardinality of resource</button><br><br>
        <button class="can-replace-card-for-res-card-with-0-1" (click)="canReplaceCardinalityWith('0-1')">Can replace cardinality of resource with 0-1</button><br><br>
        <button class="can-replace-card-for-res-card-with-0-n" (click)="canReplaceCardinalityWith('0-n')">Can replace cardinality of resource with 0-n</button><br><br>
        <button class="can-replace-card-for-res-card-with-1" (click)="canReplaceCardinalityWith('1')">Can replace cardinality of resource with 1</button><br><br>
        <button class="can-replace-card-for-res-card-with-1-n" (click)="canReplaceCardinalityWith('1-n')">Can replace cardinality of resource with 1-n</button><br><br>
        <div><span>Cardinality can be replaced:&nbsp;</span><span class="can-replace-card">{{canReplaceCardinalityResponse}}</span> </div> <br />

        <button class="replace-card-for-res-prop" (click)="replaceCardinality()">Replace Cardinality of resource</button><br><br>
        <div><span *ngIf="replacedCard">Cardinality replaced:&nbsp;</span><span class="res-card-replaced">{{replacedCard?.label}}</span> </div> <br />
        
        <button class="update-gui-order" (click)="replaceGuiOrder()">Update GUI order of resource properties</button><br><br>
        <div><span *ngIf="ontology">GUI order:&nbsp;</span><span>{{ontology?.classes["http://0.0.0.0:3333/ontology/0001/testonto/v2#testclass"]?.propertiesList[17]?.guiOrder}}</span> </div> <br />
        <div><span *ngIf="replacedCard">Updated GUI order:&nbsp;</span><span class="gui-order-replaced">{{replacedCard?.propertiesList[17].guiOrder}}</span> </div> <br />
        
        <button class="can-delete-card-from-res-card" (click)="canDeleteCardinality()">Can remove cardinality from resource</button><br><br>
        <div><span *ngIf="canDeleteCardinalityResponse">Cardinality can be removed:&nbsp;</span><span class="can-delete-card">{{canDeleteCardinalityResponse}}</span> </div> <br />

        <button class="can-delete-onto" (click)="canDeleteOntology()">Can delete testonto</button>
        <div>Can delete status: <span class="can-delete-onto">{{canDeleteOntologyResponse}}</span></div> <br />

        <button class="delete-onto" (click)="deleteOntology()">Delete testonto</button>
        <div>Delete status: <span class="status">{{message}}</span></div> <br />
    </section>

    <section id="resource">
        <h3>Resource</h3>
        <button class="read" (click)="getResource('http://rdfh.ch/0001/H6gBWUuJSuuO-CilHV8kQw')">Get testding</button> <br /><br />
        <button class="create" (click)="createResource()">Create testding</button> <br /><br />
        <div>The resource's label: <span class="label">{{resource?.label}}</span> </div> <br/>
        <button class="update" (click)="updateResourceMetadata()">Update metadata</button> <br /><br />
        <div>Update status: <span class="status">{{resourceStatus}}</span> </div> <br/>
        <button class="delete" (click)="deleteResource()">Delete resource</button> <br /><br />
    </section>

    <section id="listnode">
        <h3>ListNode</h3>
        <button (click)="getListNode('http://rdfh.ch/lists/0001/treeList01')">Get anything list node 01</button> <br /><br />
        <button (click)="getListNode('http://rdfh.ch/lists/0001/treeList02')">Get anything list node 02</button> <br /><br />
        <div>The list node's label: <span class="label">{{listNode?.label}}</span> </div> <br/>
    </section>

    <section id="search">
        <h3>Search</h3>
        <button class="fulltext" (click)="fulltextSearch('thing')">Fulltext search for a thing</button> <br /><br />
        <button class="fulltextcount" (click)="fulltextSearchCountQuery('thing')">S. for a thing count query</button> <br /><br />

        <button class="labelsearch" (click)="labelSearch('thing')">Label search for a thing</button> <br /><br />

        <button class="extended" (click)="extendedSearch()">Search for things</button> <br /><br />
        <button class="extendedcount" (click)="extendedSearchCountQuery()">Search for things count</button> <br /><br />

        <div>Search result: <span class="result">{{searchResult}}</span></div>
        <div>Search result size: <span class="size">{{size}}</span></div>

    </section>

    <section id="values">
        <h3>Values</h3>
        <button class="read" (click)="getValue('http://rdfh.ch/0001/H6gBWUuJSuuO-CilHV8kQw', 'dJ1ES8QTQNepFKF5-EAqdg')">Read a value</button> <br /><br />
        <button class="update" (click)="updateValue(generateUpdateIntValue(2))">Update an int value</button> <br /><br />
        <button class="create" (click)="createValue(generateCreateIntValue(5))">Create an int value</button> <br /><br />
        <button class="delete" (click)="deleteValue()">Delete a value</button>
        <div>Status: <span class="status">{{valueStatus}}</span></div>
    </section>

</div>
